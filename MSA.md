# MSA

##### Micro Service Architecture

​						↕

##### Monolithic Architecture

> 소프트웨어의 모든 구성요소가 한 프로젝트에 통합되어있는 형태.
>
> ex) 행복e음
>
> 웹 프로그램을 개발하기위해 모듈별로 개발을 하고, 개발이 완료된 웹 어플리케이션을 하나의 결과물로 패키징하여 배포되는 형태. 웹의 경우 war파일로 빌드되어 WAS에 배포하는 형태를 말한다.
>
>  
>
> 문제점
>
> 1. 부분 장애가 전체 서비스 장애로 확대될 수 있다.
>
>    배포된 코드에 오류가 날 시 서비스 전체의 장애로 확대될 수 있다.
>
> 2. Scale-out(여러 서버로 나누어 일을 처리하는 방식)이 어렵다
>    HA(고가용성)과 멀어진다
>
> 3. 서비스 변경이 어렵고 수정 시 장애의 영향도 파악이 힘들다
>
> 4. 등등,,,



##### MSA의 특징

=> MSA는 API를 통해서만 상호작용할 수 있다. 서비스의 접근점을 API 형태로 외부에 노출하고, 실질적인 세부 사항은 모두 추상화 한다.

내부 구현 로직, 아키텍처와 언어, DB 등 기술적인 사항들은 서비스 API에 의해 철저하게 가려진다.



##### 장점

1. 각 서비스는 모듈화 되어있으며 모듈끼리는 RPC 혹은 message-driven API등으로 통신한다. 각각 개별의 서비스개발을 빠르게하며, 유지보수도 쉽게 할 수 있다.
2. 팀 단위별로 적절한 수준에서 기술 스택을 다르게 할 수 있다.
3. 등등

##### 단점

1. 서비스가 분산되어있기 때문에, 내부 시스템의 통신 프로토콜을 정해야한다. 또한, 통신 장애와 서버 부하 등이 있을 경우 어떻게 트랜잭션을 유지할 지 결정하고 구현해야한다.

2. 통테가 어렵다. 개발 환경과 실제 운영환경을 동일하게 가져가는 것이 어렵다.

3. 서비스 하나를 재배포 한다고 하면, 다른 서비스와의 연계가 정상적으로 이루어지는지도 확인해야 한다.

   



