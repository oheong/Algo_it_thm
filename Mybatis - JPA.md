# Mybatis - JPA



#### JPA(Java Persistence API)

- 자바 ORM의 기술 표준

```textile
ORM(Object-relational mapping)

- 객체 관계 매핑. 객체와 RDB를 별개로 설계하고 ORM이 중간에서 매핑해줌
  
- SQL문이 아닌 RDB데이터 그 자체와 매핑하기때문에 SQL을 직접 작성할 필요가 없다.
  
- 해당 객체와의 매핑에 필요한 SQL문을 알아서 만들어준다. (어떤 RDB든 노상관)
  
- ORM에서 제공하는 메소드, 코드 등을 이용하기에 직관적이다.
```

##### 

#### Mybatis(Java Persistence Framework)

- DB레코드에 원시타입 MAP 인터페이스, 자바 POJO를 설정해서 매핑하기위해 xml과 어노테이션을 사용할 수 있다.

- 자바에서 SQL Mapper를 지원해주는 프레임워크이다. SQL 작성을 직접 해서 객체와 매핑해야함.

```textile
SQL Mapper

- 개발자가 작성한 SQL문으로 해당되는 ROW를 읽어 온 후 결과 값을 오브젝트화 시켜 사용가능하게 만든다.

- RDB에 따라 SQL 문법이 달라지기때문에 특정 RDB에 종속적이다.
```





<hr>

#### JPA(ORM)

- 장점
  
  1. RDB 종류과 관계 없이 사용 가능. (추후 DB변경이나 코드 재활용에 용이)
  
  2. 기본적인 CRUD 및 페이징 처리 구현되어있어 비지니스 로직에 집중할 수 있음
  
  3. 테이블 생성, 변경 등 엔티티 관리가 편하다.
  
  4. 쿼리에 집중할 필요 없이 빠른 개발 가능
  
  5. 객체지향적으로 데이터를 관리할 수 있다.
         

- 단점
  
  1. 어렵다. 단방향, 양방향 임베디드 관계 등 이해해야할 내용이 많으며, 연관관계 이해없이 잘못 코딩했을 경우, 성능상의 문제와 동작이 원하는대로 안될 수 있음.

#### Mybatis(SQL Mapper)

- 장점
  
  1. JPA에 비해 쉽다. SQL 쿼리를 그대로 사용하기에 복잡한 join, 튜닝 등을 좀 더 수월하게 작성 가능하다.
  
  2. 쿼리를 직접 작성하므로 SQL의 세부적인 내용 변경 시 좀 더 간편하고 최적화된 쿼리를 구현할 수 있다.
  
  3. 동적 쿼리 사용 시 JPA보다 간편하게 구현 가능하다.

- 단점
  
  1. DB 설정 변경 시 수정할 부분이 너무 많음. (Oracle 페이징 쿼리를 MySQL에서 사용 불가 || 스키마 변경 시 쿼리를 직접 수정해줘야 함)
  
  2. Mapper 작성부터 인터페이스 설계까지 JPA보다 많은 설계와 파일, 로직이 필요하다
  
  3. 특정 DB에 종속적이다.


